<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="å‰è¨€ æœ€è¿‘åœ¨ React Europe 2020 Conference ä¸Šï¼Œ facebook å†…éƒ¨é‡Šå‡ºä¸€ä¸ªçŠ¶æ€ç®¡ç†åº“ Recoil
é€šè¿‡å®˜æ–¹çš„å®£ä¼ ä»¥åŠåˆæ­¥çš„ä½¿ç”¨ï¼ŒRecoil åœ¨å¤„ç† shared state ä¸Šæ¯”è¾ƒæ–¹ä¾¿ï¼Œä¹Ÿèƒ½åšåˆ°æœ€å°åº¦çš„æ›´æ–°æ¥æå‡å¤æ‚ App çš„æ€§èƒ½ã€‚ä¸è¿‡æœ‰è¶£çš„æ˜¯ï¼Œå¯¹ Recoil çš„ atom selector è¿™äº› API è®¾è®¡è€Œè¨€ï¼Œå…¶å®å°±æ˜¯æ—©åœ¨ 47 å¹´æå‡ºçš„ Actor Modelï¼Œå¯è°“æ˜¯å‰ç«¯çŠ¶æ€ç®¡ç†çš„æ–‡è‰ºå¤å…´ã€‚
Actor Model éƒ¨åˆ† ä»€ä¹ˆæ˜¯ Actor Model Actor æ¨¡å‹(Actor model)é¦–å…ˆæ˜¯ç”± Carl Hewitt åœ¨ 1973 å®šä¹‰ï¼Œ ç”± Erlang OTP(Open Telecom Platform) æ¨å¹¿ï¼Œå…¶æ¶ˆæ¯ä¼ é€’æ›´åŠ ç¬¦åˆé¢å‘å¯¹è±¡çš„åŸå§‹æ„å›¾ã€‚Actors å±äºå¹¶å‘ç»„ä»¶æ¨¡å‹ï¼Œé€šè¿‡ç»„ä»¶æ–¹å¼å®šä¹‰å¹¶å‘ç¼–ç¨‹èŒƒå¼çš„é«˜çº§é˜¶æ®µï¼Œé¿å…ä½¿ç”¨è€…ç›´æ¥æ¥è§¦å¤šçº¿ç¨‹å¹¶å‘æˆ–çº¿ç¨‹æ± ç­‰åŸºç¡€æ¦‚å¿µã€‚
æµè¡Œè¯­è¨€å¹¶å‘æ˜¯åŸºäºå¤šçº¿ç¨‹ä¹‹é—´çš„å…±äº«å†…å­˜ï¼Œä½¿ç”¨åŒæ­¥æ–¹æ³•é˜²æ­¢å†™äº‰å¤ºï¼ŒActors ä½¿ç”¨æ¶ˆæ¯æ¨¡å‹ï¼Œæ¯ä¸ª Actors åœ¨åŒä¸€æ—¶é—´å¤„ç†æœ€å¤šä¸€ä¸ªæ¶ˆæ¯ï¼Œå¯ä»¥å‘é€æ¶ˆæ¯ç»™å…¶ä»– Actorsï¼Œä¿è¯äº†å•ç‹¬å†™åŸåˆ™ã€‚ä»è€Œå·§å¦™é¿å…äº†å¤šçº¿ç¨‹å†™äº‰å¤ºã€‚
Actor Model ä¸»è¦æœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š
è½»é‡ï¼šActor æ˜¯ç³»ç»Ÿå†…çš„ä¸€ä¸ªåŸºç¡€å•ä½ï¼Œæ¯ä¸ª Actor åªè´Ÿè´£è‡ªå·±çš„å·¥ä½œ æ²¡æœ‰ Shared Stateï¼šæ¯ä¸ª Actor å„è‡ªç®¡ç†è‡ªå·±çš„ stateï¼Œè·‘åœ¨å„è‡ªçš„ thread ä¸Šï¼Œä¸å…±äº«å†…å­˜å’Œ state é€šè¿‡æ¶ˆæ¯ä¼ é€’ï¼šæ¯ä¸ª Actor æœ‰ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œç±»ä¼¼ MailBox / Queueï¼Œæ¥å—åˆ°çš„æ¶ˆæ¯ä¼šåœ¨æ­¤é˜Ÿåˆ—ç­‰å¾…ä¾æ¬¡æ‰§è¡Œ è°ä½¿ç”¨ Actor Model Erlang Akka Vert."><title>Recoil ä¸€ä¸ªåŸºäº actor æ¨¡å‹çš„ React çŠ¶æ€ç®¡ç†åº“</title><link rel=canonical href=https://edward40.com/posts/recoil-a-state-management-system-for-react/><link rel=stylesheet href=/scss/style.min.ac77dcf8b111b51da39a92990f431923f210f3876d85798a2125667f96dc33a4.css><meta property="og:title" content="Recoil ä¸€ä¸ªåŸºäº actor æ¨¡å‹çš„ React çŠ¶æ€ç®¡ç†åº“"><meta property="og:description" content="å‰è¨€ æœ€è¿‘åœ¨ React Europe 2020 Conference ä¸Šï¼Œ facebook å†…éƒ¨é‡Šå‡ºä¸€ä¸ªçŠ¶æ€ç®¡ç†åº“ Recoil
é€šè¿‡å®˜æ–¹çš„å®£ä¼ ä»¥åŠåˆæ­¥çš„ä½¿ç”¨ï¼ŒRecoil åœ¨å¤„ç† shared state ä¸Šæ¯”è¾ƒæ–¹ä¾¿ï¼Œä¹Ÿèƒ½åšåˆ°æœ€å°åº¦çš„æ›´æ–°æ¥æå‡å¤æ‚ App çš„æ€§èƒ½ã€‚ä¸è¿‡æœ‰è¶£çš„æ˜¯ï¼Œå¯¹ Recoil çš„ atom selector è¿™äº› API è®¾è®¡è€Œè¨€ï¼Œå…¶å®å°±æ˜¯æ—©åœ¨ 47 å¹´æå‡ºçš„ Actor Modelï¼Œå¯è°“æ˜¯å‰ç«¯çŠ¶æ€ç®¡ç†çš„æ–‡è‰ºå¤å…´ã€‚
Actor Model éƒ¨åˆ† ä»€ä¹ˆæ˜¯ Actor Model Actor æ¨¡å‹(Actor model)é¦–å…ˆæ˜¯ç”± Carl Hewitt åœ¨ 1973 å®šä¹‰ï¼Œ ç”± Erlang OTP(Open Telecom Platform) æ¨å¹¿ï¼Œå…¶æ¶ˆæ¯ä¼ é€’æ›´åŠ ç¬¦åˆé¢å‘å¯¹è±¡çš„åŸå§‹æ„å›¾ã€‚Actors å±äºå¹¶å‘ç»„ä»¶æ¨¡å‹ï¼Œé€šè¿‡ç»„ä»¶æ–¹å¼å®šä¹‰å¹¶å‘ç¼–ç¨‹èŒƒå¼çš„é«˜çº§é˜¶æ®µï¼Œé¿å…ä½¿ç”¨è€…ç›´æ¥æ¥è§¦å¤šçº¿ç¨‹å¹¶å‘æˆ–çº¿ç¨‹æ± ç­‰åŸºç¡€æ¦‚å¿µã€‚
æµè¡Œè¯­è¨€å¹¶å‘æ˜¯åŸºäºå¤šçº¿ç¨‹ä¹‹é—´çš„å…±äº«å†…å­˜ï¼Œä½¿ç”¨åŒæ­¥æ–¹æ³•é˜²æ­¢å†™äº‰å¤ºï¼ŒActors ä½¿ç”¨æ¶ˆæ¯æ¨¡å‹ï¼Œæ¯ä¸ª Actors åœ¨åŒä¸€æ—¶é—´å¤„ç†æœ€å¤šä¸€ä¸ªæ¶ˆæ¯ï¼Œå¯ä»¥å‘é€æ¶ˆæ¯ç»™å…¶ä»– Actorsï¼Œä¿è¯äº†å•ç‹¬å†™åŸåˆ™ã€‚ä»è€Œå·§å¦™é¿å…äº†å¤šçº¿ç¨‹å†™äº‰å¤ºã€‚
Actor Model ä¸»è¦æœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š
è½»é‡ï¼šActor æ˜¯ç³»ç»Ÿå†…çš„ä¸€ä¸ªåŸºç¡€å•ä½ï¼Œæ¯ä¸ª Actor åªè´Ÿè´£è‡ªå·±çš„å·¥ä½œ æ²¡æœ‰ Shared Stateï¼šæ¯ä¸ª Actor å„è‡ªç®¡ç†è‡ªå·±çš„ stateï¼Œè·‘åœ¨å„è‡ªçš„ thread ä¸Šï¼Œä¸å…±äº«å†…å­˜å’Œ state é€šè¿‡æ¶ˆæ¯ä¼ é€’ï¼šæ¯ä¸ª Actor æœ‰ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œç±»ä¼¼ MailBox / Queueï¼Œæ¥å—åˆ°çš„æ¶ˆæ¯ä¼šåœ¨æ­¤é˜Ÿåˆ—ç­‰å¾…ä¾æ¬¡æ‰§è¡Œ è°ä½¿ç”¨ Actor Model Erlang Akka Vert."><meta property="og:url" content="https://edward40.com/posts/recoil-a-state-management-system-for-react/"><meta property="og:site_name" content="ä»•éºŸçš„åšå®¢"><meta property="og:type" content="article"><meta property="article:section" content="Posts"><meta property="article:tag" content="recoil"><meta property="article:tag" content="recoiljs"><meta property="article:tag" content="react"><meta property="article:tag" content="reactjs"><meta property="article:tag" content="actor"><meta property="article:tag" content="state management"><meta property="article:tag" content="facebook"><meta property="article:published_time" content="2020-05-16T00:00:00+00:00"><meta property="article:modified_time" content="2020-05-16T00:00:00+00:00"><meta property="og:image" content="https://edward40.com/posts/recoil-a-state-management-system-for-react/Recoil%20at%20React%20Europe%202020%2000-07-24%20.png"><meta name=twitter:title content="Recoil ä¸€ä¸ªåŸºäº actor æ¨¡å‹çš„ React çŠ¶æ€ç®¡ç†åº“"><meta name=twitter:description content="å‰è¨€ æœ€è¿‘åœ¨ React Europe 2020 Conference ä¸Šï¼Œ facebook å†…éƒ¨é‡Šå‡ºä¸€ä¸ªçŠ¶æ€ç®¡ç†åº“ Recoil
é€šè¿‡å®˜æ–¹çš„å®£ä¼ ä»¥åŠåˆæ­¥çš„ä½¿ç”¨ï¼ŒRecoil åœ¨å¤„ç† shared state ä¸Šæ¯”è¾ƒæ–¹ä¾¿ï¼Œä¹Ÿèƒ½åšåˆ°æœ€å°åº¦çš„æ›´æ–°æ¥æå‡å¤æ‚ App çš„æ€§èƒ½ã€‚ä¸è¿‡æœ‰è¶£çš„æ˜¯ï¼Œå¯¹ Recoil çš„ atom selector è¿™äº› API è®¾è®¡è€Œè¨€ï¼Œå…¶å®å°±æ˜¯æ—©åœ¨ 47 å¹´æå‡ºçš„ Actor Modelï¼Œå¯è°“æ˜¯å‰ç«¯çŠ¶æ€ç®¡ç†çš„æ–‡è‰ºå¤å…´ã€‚
Actor Model éƒ¨åˆ† ä»€ä¹ˆæ˜¯ Actor Model Actor æ¨¡å‹(Actor model)é¦–å…ˆæ˜¯ç”± Carl Hewitt åœ¨ 1973 å®šä¹‰ï¼Œ ç”± Erlang OTP(Open Telecom Platform) æ¨å¹¿ï¼Œå…¶æ¶ˆæ¯ä¼ é€’æ›´åŠ ç¬¦åˆé¢å‘å¯¹è±¡çš„åŸå§‹æ„å›¾ã€‚Actors å±äºå¹¶å‘ç»„ä»¶æ¨¡å‹ï¼Œé€šè¿‡ç»„ä»¶æ–¹å¼å®šä¹‰å¹¶å‘ç¼–ç¨‹èŒƒå¼çš„é«˜çº§é˜¶æ®µï¼Œé¿å…ä½¿ç”¨è€…ç›´æ¥æ¥è§¦å¤šçº¿ç¨‹å¹¶å‘æˆ–çº¿ç¨‹æ± ç­‰åŸºç¡€æ¦‚å¿µã€‚
æµè¡Œè¯­è¨€å¹¶å‘æ˜¯åŸºäºå¤šçº¿ç¨‹ä¹‹é—´çš„å…±äº«å†…å­˜ï¼Œä½¿ç”¨åŒæ­¥æ–¹æ³•é˜²æ­¢å†™äº‰å¤ºï¼ŒActors ä½¿ç”¨æ¶ˆæ¯æ¨¡å‹ï¼Œæ¯ä¸ª Actors åœ¨åŒä¸€æ—¶é—´å¤„ç†æœ€å¤šä¸€ä¸ªæ¶ˆæ¯ï¼Œå¯ä»¥å‘é€æ¶ˆæ¯ç»™å…¶ä»– Actorsï¼Œä¿è¯äº†å•ç‹¬å†™åŸåˆ™ã€‚ä»è€Œå·§å¦™é¿å…äº†å¤šçº¿ç¨‹å†™äº‰å¤ºã€‚
Actor Model ä¸»è¦æœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š
è½»é‡ï¼šActor æ˜¯ç³»ç»Ÿå†…çš„ä¸€ä¸ªåŸºç¡€å•ä½ï¼Œæ¯ä¸ª Actor åªè´Ÿè´£è‡ªå·±çš„å·¥ä½œ æ²¡æœ‰ Shared Stateï¼šæ¯ä¸ª Actor å„è‡ªç®¡ç†è‡ªå·±çš„ stateï¼Œè·‘åœ¨å„è‡ªçš„ thread ä¸Šï¼Œä¸å…±äº«å†…å­˜å’Œ state é€šè¿‡æ¶ˆæ¯ä¼ é€’ï¼šæ¯ä¸ª Actor æœ‰ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œç±»ä¼¼ MailBox / Queueï¼Œæ¥å—åˆ°çš„æ¶ˆæ¯ä¼šåœ¨æ­¤é˜Ÿåˆ—ç­‰å¾…ä¾æ¬¡æ‰§è¡Œ è°ä½¿ç”¨ Actor Model Erlang Akka Vert."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://edward40.com/posts/recoil-a-state-management-system-for-react/Recoil%20at%20React%20Europe%202020%2000-07-24%20.png"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/kirito_hu9470a11a20a3a08d10a50c3f6b1883f5_79246_300x0_resize_q75_box.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a>
<span class=emoji>ğŸ±</span></figure><div class=site-meta><h1 class=site-name><a href=/>ä»•éºŸçš„åšå®¢</a></h1><h2 class=site-description>Great men are not born great, they grow great.</h2></div></header><ol class=social-menu><li><a href=https://github.com/sasuke40 target=_blank title=GitHub><svg width="256" height="250" viewBox="0 0 256 250" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid"><g><path d="M128.00106.0C57.3172926.0.0 57.3066942.0 128.00106c0 56.554221 36.6761997 104.534482 87.534937 121.459839 6.3970853 1.18487999999999 8.745651-2.776734 8.745651-6.157566C96.280588 240.251045 96.1618878 230.167899 96.106777 219.472176 60.4967585 227.215235 52.9826207 204.369712 52.9826207 204.369712c-5.8226623-14.795114-14.2122127-18.729174-14.2122127-18.729174C27.1568785 177.696113 39.6458206 177.859325 39.6458206 177.859325 52.4993419 178.762293 59.267365 191.04987 59.267365 191.04987c11.4164025 19.568553 29.9442103 13.911223 37.2485035 10.640612C97.6647155 193.417512 100.981959 187.77078 104.642583 184.574357 76.211799 181.33766 46.324819 170.362144 46.324819 121.315702c0-13.974813 5.0002398-25.3933338 13.1884247-34.3573083-1.3290169-3.2239785-5.7103208-16.2428317 1.2399917-33.8740301.0.0 10.7487147-3.4401823 35.2094058 13.1205959 10.2103258-2.8360835 21.1604058-4.2583646 32.0384188-4.3071163C138.879073 61.9465949 149.837632 63.368876 160.067033 66.2049595c24.431017-16.5607782 35.164893-13.1205959 35.164893-13.1205959C202.199197 70.715562 197.815773 83.7344152 196.486756 86.9583937 204.694018 95.9223682 209.660343 107.340889 209.660343 121.315702c0 49.163023-29.94421 59.988045-58.447062 63.156912 4.591149 3.97221400000001 8.682061 11.761904 8.682061 23.703979.0 17.126724-.14837399999999 30.910768-.14837399999999 35.12674C159.746968 246.709601 162.05102 250.70089 168.53925 249.443941 219.370432 232.499507 256 184.536204 256 128.00106 256 57.3066942 198.691187.0 128.00106.0zM47.9405593 182.340212C47.6586465 182.976105 46.6581745 183.166873 45.7467277 182.730227 44.8183235 182.312656 44.2968914 181.445722 44.5978808 180.80771 44.8734344 180.152739 45.876026 179.97045 46.8023103 180.409216 47.7328342 180.826786 48.2627451 181.702199 47.9405593 182.340212zm6.2962299 5.618042C53.6263318 188.524199 52.4329723 188.261363 51.6232682 187.366874 50.7860088 186.474504 50.6291553 185.281144 51.2480912 184.70672 51.8776254 184.140775 53.0349512 184.405731 53.8743302 185.298101 54.7115892 186.201069 54.8748019 187.38595 54.2367892 187.958254zM58.5562413 195.146347C57.7719732 195.691096 56.4895886 195.180261 55.6968417 194.042013 54.9125733 192.903764 54.9125733 191.538713 55.713799 190.991845 56.5086651 190.444977 57.7719732 190.936735 58.5753181 192.066505 59.3574669 193.22383 59.3574669 194.58888 58.5562413 195.146347zM65.8613592 203.471174C65.1597571 204.244846 63.6654083 204.03712 62.5716717 202.981538 61.4524999 201.94927 61.1409122 200.484596 61.8446341 199.710926 62.5547146 198.935137 64.0575422 199.15346 65.1597571 200.200564 66.2704506 201.230712 66.6095936 202.705984 65.8613592 203.471174zM75.3025151 206.281542C74.9930474 207.284134 73.553809 207.739857 72.1039724 207.313809 70.6562556 206.875043 69.7087748 205.700761 70.0012857 204.687571 70.302275 203.678621 71.7478721 203.20382 73.2083069 203.659543 74.6539041 204.09619 75.6035048 205.261994 75.3025151 206.281542zM86.046947 207.473627C86.0829806 208.529209 84.8535871 209.404622 83.3316829 209.4237 81.8013 209.457614 80.563428 208.603398 80.5464708 207.564772c0-1.066181 1.20183800000001-1.93311500000002 2.7322209-1.958551C84.8005962 205.576546 86.046947 206.424403 86.046947 207.473627zM96.6021471 207.069023C96.7844366 208.099171 95.7267341 209.156872 94.215428 209.438785 92.7295577 209.710099 91.3539086 209.074206 91.1652603 208.052538 90.9808515 206.996955 92.0576306 205.939253 93.5413813 205.66582 95.054807 205.402984 96.4092596 206.021919 96.6021471 207.069023z" fill="#161614"/></g></svg></a></li><li><a href=mailto://sasuke688848@gmail.com target=_blank title=Gmail><svg width="256" height="193" viewBox="0 0 256 193" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid"><g><path d="M58.1818182 192.049515V93.1404244L27.5066233 65.0770089.0 49.5040608V174.59497C0 184.253152 7.82545455 192.049515 17.4545455 192.049515H58.1818182z" fill="#4285f4"/><path d="M197.818182 192.049515h40.727273C248.203636 192.049515 256 184.224061 256 174.59497V49.5040608L224.844415 67.3422767 197.818182 93.1404244V192.049515z" fill="#34a853"/><polygon fill="#ea4335" points="58.1818182 93.1404244 54.0077618 54.4932827 58.1818182 17.5040608 128 69.8676972 197.818182 17.5040608 202.487488 52.4960089 197.818182 93.1404244 128 145.504061"/><path d="M197.818182 17.5040608V93.1404244L256 49.5040608V26.2313335c0-21.58545453-24.64-33.89090907-41.890909-20.94545453L197.818182 17.5040608z" fill="#fbbc04"/><path d="M0 49.5040608 26.7588051 69.5731646 58.1818182 93.1404244V17.5040608L41.8909091 5.28587897C24.6109091-7.65957557.0 4.64587897.0 26.2313335V49.5040608z" fill="#c5221f"/></g></svg></a></li><li><a href=https://t.me/edward40 target=_blank title=Telegram><svg width="256" height="256" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid"><title>Telegram</title><defs><linearGradient x1="50%" y1="277555756e-23%" x2="50%" y2="100%" id="telegramLinearGradient-1"><stop stop-color="#2aabee" offset="0"/><stop stop-color="#229ed9" offset="100%"/></linearGradient></defs><g><path d="M128 0C94.06.0 61.48 13.494 37.5 37.49 13.5 61.486.0 94.066.0 128s13.5 66.514 37.5 90.51C61.48 242.506 94.06 256 128 256s66.52-13.494 90.5-37.49c24-23.996 37.5-56.576 37.5-90.51s-13.5-66.514-37.5-90.51C194.52 13.494 161.94.0 128 0z" fill="url(#telegramLinearGradient-1)"/><path d="M57.94 126.6476c37.32-16.256 62.2-26.974 74.64-32.152 35.56-14.786 42.94-17.354 47.76-17.4408458C181.4 77.0376 183.76 77.2996 185.3 78.5456 186.58 79.5956 186.94 81.0156 187.12 82.0116 187.28 83.0076 187.5 85.2776 187.32 87.0496 185.4 107.2896 177.06 156.4056 172.82 179.0756 171.04 188.668 167.5 191.884 164.08 192.198 156.64 192.882 151 187.286 143.8 182.5676c-11.26-7.386-17.62-11.982-28.56-19.188C102.6 155.0516 110.8 150.4736 118 142.9936c1.88-1.958 34.64-31.748 35.26-34.45C153.34 108.2056 153.42 106.9456 152.66 106.2816 151.92 105.6156 150.82 105.8436 150.02 106.0236c-1.14000000000001.256-19.12 12.152-54 35.686C90.92 145.2176 86.3 146.9276 82.14 146.8376 77.58 146.7396 68.78 144.2536 62.24 142.1296 54.24 139.5236 47.86 138.1456 48.42 133.7196 48.7 131.4156 51.88 129.0576 57.94 126.6476z" fill="#fff"/></g></svg></a></li><li><a href=https://twitter.com/edward40e target=_blank title=Twitter><svg width="256" height="209" viewBox="0 0 256 209" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid"><g><path d="M256 25.4500259C246.580841 29.6272672 236.458451 32.4504868 225.834156 33.7202333c10.844347-6.500428 19.171674-16.7932404 23.093281-29.05715645C238.779765 10.6812633 227.539325 15.0523376 215.57599 17.408298 205.994835 7.2006971 192.34506.822 177.239197.822c-29.006592.0-52.523121 23.5155931-52.523121 52.5203116C124.716076 57.4586875 125.181462 61.4673784 126.076652 65.3112644 82.4258385 63.1210453 43.7257252 42.211429 17.821398 10.4359288c-4.5208969 7.757065-7.110955 16.7791946-7.110955 26.4043601.0 18.2212371 9.2730824 34.2972018 23.3657705 43.7154248C25.4660961 80.2832239 17.3681846 77.9207088 10.2862577 73.9869292 10.2825122 74.2060448 10.2825122 74.4260967 10.2825122 74.647085c0 25.447368 18.1041881 46.675358 42.1310508 51.499645C48.0059695 127.347184 43.3661509 127.988612 38.5755734 127.988612 35.1914554 127.988612 31.9009766 127.659938 28.694773 127.046602c6.6830243 20.866543 26.0794323 36.051063 49.0622188 36.475248-17.9749661 14.086133-40.6215882 22.482754-65.2280771 22.482754C8.28987161 186.004604 4.10888474 185.75646.0 185.271409c23.2431033 14.90173 50.8507261 23.596123 80.5109185 23.596123 96.6056105.0 149.4330585-80.03055 149.4330585-149.4349318C229.943977 57.1552968 229.893412 54.8901664 229.792282 52.6381454 240.053257 45.2331635 248.958338 35.9825545 256 25.4500259" fill="#55acee"/></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>ä¸»é¡µ</span></a></li><li><a href=/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>å…³äº</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>å½’æ¡£</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>æœç´¢</span></a></li><li><a href=/friends/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg><span>æœ‹å‹</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>æš—è‰²æ¨¡å¼</span></li></div></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/posts/recoil-a-state-management-system-for-react/><img src=/posts/recoil-a-state-management-system-for-react/Recoil%20at%20React%20Europe%202020%2000-07-24%20_hu9a030952070e8277064d3c591128dc0a_924401_800x0_resize_box_3.png srcset="/posts/recoil-a-state-management-system-for-react/Recoil%20at%20React%20Europe%202020%2000-07-24%20_hu9a030952070e8277064d3c591128dc0a_924401_800x0_resize_box_3.png 800w, /posts/recoil-a-state-management-system-for-react/Recoil%20at%20React%20Europe%202020%2000-07-24%20_hu9a030952070e8277064d3c591128dc0a_924401_1600x0_resize_box_3.png 1600w" width=800 height=450 loading=lazy alt="Featured image of post Recoil ä¸€ä¸ªåŸºäº actor æ¨¡å‹çš„ React çŠ¶æ€ç®¡ç†åº“"></a></div><div class=article-details><header class=article-category><a href=/categories/frontend/>Frontend</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/posts/recoil-a-state-management-system-for-react/>Recoil ä¸€ä¸ªåŸºäº actor æ¨¡å‹çš„ React çŠ¶æ€ç®¡ç†åº“</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>May 16, 2020</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>é˜…è¯»æ—¶é•¿: 4 åˆ†é’Ÿ</time></div></footer></div></header><section class=article-content><h1 id=å‰è¨€>å‰è¨€</h1><p>æœ€è¿‘åœ¨ React Europe 2020 Conference ä¸Šï¼Œ facebook å†…éƒ¨é‡Šå‡ºä¸€ä¸ªçŠ¶æ€ç®¡ç†åº“ <a class=link href=https://recoiljs.org/ target=_blank rel=noopener>Recoil</a></p><p>é€šè¿‡å®˜æ–¹çš„å®£ä¼ ä»¥åŠåˆæ­¥çš„ä½¿ç”¨ï¼ŒRecoil åœ¨å¤„ç† shared state ä¸Šæ¯”è¾ƒæ–¹ä¾¿ï¼Œä¹Ÿèƒ½åšåˆ°æœ€å°åº¦çš„æ›´æ–°æ¥æå‡å¤æ‚ App çš„æ€§èƒ½ã€‚ä¸è¿‡æœ‰è¶£çš„æ˜¯ï¼Œå¯¹ Recoil çš„ <code>atom</code> <code>selector</code> è¿™äº› API è®¾è®¡è€Œè¨€ï¼Œå…¶å®å°±æ˜¯æ—©åœ¨ 47 å¹´æå‡ºçš„ <strong>Actor Model</strong>ï¼Œå¯è°“æ˜¯å‰ç«¯çŠ¶æ€ç®¡ç†çš„æ–‡è‰ºå¤å…´ã€‚</p><h1 id=actor-model-éƒ¨åˆ†>Actor Model éƒ¨åˆ†</h1><h2 id=ä»€ä¹ˆæ˜¯-actor-model>ä»€ä¹ˆæ˜¯ Actor Model</h2><p>Actor æ¨¡å‹(Actor model)é¦–å…ˆæ˜¯ç”± Carl Hewitt åœ¨ 1973 å®šä¹‰ï¼Œ ç”± Erlang OTP(Open Telecom Platform) æ¨å¹¿ï¼Œå…¶æ¶ˆæ¯ä¼ é€’æ›´åŠ ç¬¦åˆé¢å‘å¯¹è±¡çš„åŸå§‹æ„å›¾ã€‚Actors å±äºå¹¶å‘ç»„ä»¶æ¨¡å‹ï¼Œé€šè¿‡ç»„ä»¶æ–¹å¼å®šä¹‰å¹¶å‘ç¼–ç¨‹èŒƒå¼çš„é«˜çº§é˜¶æ®µï¼Œé¿å…ä½¿ç”¨è€…ç›´æ¥æ¥è§¦å¤šçº¿ç¨‹å¹¶å‘æˆ–çº¿ç¨‹æ± ç­‰åŸºç¡€æ¦‚å¿µã€‚</p><p>æµè¡Œè¯­è¨€å¹¶å‘æ˜¯åŸºäºå¤šçº¿ç¨‹ä¹‹é—´çš„å…±äº«å†…å­˜ï¼Œä½¿ç”¨åŒæ­¥æ–¹æ³•é˜²æ­¢å†™äº‰å¤ºï¼ŒActors ä½¿ç”¨æ¶ˆæ¯æ¨¡å‹ï¼Œæ¯ä¸ª Actors åœ¨åŒä¸€æ—¶é—´å¤„ç†æœ€å¤šä¸€ä¸ªæ¶ˆæ¯ï¼Œå¯ä»¥å‘é€æ¶ˆæ¯ç»™å…¶ä»– Actorsï¼Œä¿è¯äº†å•ç‹¬å†™åŸåˆ™ã€‚ä»è€Œå·§å¦™é¿å…äº†å¤šçº¿ç¨‹å†™äº‰å¤ºã€‚</p><p>Actor Model ä¸»è¦æœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š</p><ul><li>è½»é‡ï¼šActor æ˜¯ç³»ç»Ÿå†…çš„ä¸€ä¸ªåŸºç¡€å•ä½ï¼Œæ¯ä¸ª Actor åªè´Ÿè´£è‡ªå·±çš„å·¥ä½œ</li><li>æ²¡æœ‰ Shared Stateï¼šæ¯ä¸ª Actor å„è‡ªç®¡ç†è‡ªå·±çš„ stateï¼Œè·‘åœ¨å„è‡ªçš„ thread ä¸Šï¼Œä¸å…±äº«å†…å­˜å’Œ state</li><li>é€šè¿‡æ¶ˆæ¯ä¼ é€’ï¼šæ¯ä¸ª Actor æœ‰ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œç±»ä¼¼ MailBox / Queueï¼Œæ¥å—åˆ°çš„æ¶ˆæ¯ä¼šåœ¨æ­¤é˜Ÿåˆ—ç­‰å¾…ä¾æ¬¡æ‰§è¡Œ</li></ul><h2 id=è°ä½¿ç”¨-actor-model>è°ä½¿ç”¨ Actor Model</h2><ul><li>Erlang</li><li>Akka</li><li>Vert.x</li><li>Actix</li><li>&mldr;</li></ul><h1 id=recoil-éƒ¨åˆ†>Recoil éƒ¨åˆ†</h1><h2 id=recoil-äº§ç”ŸèƒŒæ™¯>Recoil äº§ç”ŸèƒŒæ™¯</h2><p>å‰ç«¯çš„åº”ç”¨è¶Šæ¥è¶Šå¤æ‚ï¼Œè¯¸å¦‚å¸¸è§çš„ Web ç›‘æ§é¢æ¿ï¼ŒåŒ…å«å„ç±»çš„æ€§èƒ½æ•°æ®ã€èŠ‚ç‚¹ä¿¡æ¯ã€åˆ†ç±»èšåˆç”¨æ¥è¿›è¡Œåº”ç”¨åˆ†æã€‚å¯ä»¥æƒ³è±¡å¾—åˆ°é¢æ¿ä¸­åŒ…å«å„ç±»çš„äº¤äº’è¡Œä¸ºï¼Œç¼–è¾‘ã€åˆ é™¤ã€æ·»åŠ ã€å°†ä¸€ä¸ªæ•°æ®æºç»‘å®šå¤šä¸ªé¢æ¿ç­‰ç­‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜éœ€è¦å¯¹æ•°æ®æŒä¹…åŒ–ï¼Œè¿™æ ·å°±èƒ½æŠŠ url åˆ†äº«ç»™å…¶ä»–äººï¼Œå¹¶è¦ç¡®ä¿è¢«åˆ†äº«çš„äººçœ‹åˆ°çš„æ˜¯ä¸€è‡´çš„ã€‚</p><p>å› æ­¤å¼€å‘è¿‡ç¨‹ä¸­è¦å°½é‡åšåˆ°é¡µé¢æœ€å°åŒ–æ›´æ–°è¾¾åˆ°é«˜æ€§èƒ½çš„ç›®çš„ï¼Œéœ€è¦å¯¹æ•°æ®æµçš„æ“ä½œæ›´åŠ ç²¾ç»†ã€‚</p><p>![](Recoil at React Europe 2020 00-00-12 .jpg)</p><p>é¢å¯¹è¿™æ ·çš„æŒ‘æˆ˜ï¼Œä¸€èˆ¬ä¼šæƒ³åˆ°ç”¨ä¸€äº›çŠ¶æ€ç®¡ç†çš„å‡½æ•°æˆ–è€…åº“ï¼Œå¦‚ React å†…ç½®çš„ state ç®¡ç†ï¼Œæˆ–è€… Reduxã€‚</p><p>Recoil æƒ³é€šè¿‡ä¸€ä¸ªä¸ä¸€æ ·çš„æ–¹å¼æ¥è§£å†³è¿™äº›é—®é¢˜ï¼Œä¸»è¦åˆ†ä¸º 3 ä¸ªæ–¹é¢ï¼š</p><ul><li>Flexible shared state: åœ¨ react tree ä»»æ„çš„åœ°æ–¹éƒ½èƒ½çµæ´»å…±äº« stateï¼Œå¹¶ä¿æŒé«˜æ€§èƒ½</li><li>Derived data and queries: é«˜æ•ˆå¯é åœ°æ ¹æ®å˜åŒ–çš„ state è¿›è¡Œè®¡ç®—</li><li>App-wide state observation: time travel debugging, æ”¯æŒ undo, æ—¥å¿—æŒä¹…åŒ–</li></ul><p>##Recoil ä¸»è¦è®¾è®¡</p><h3 id=shared-state>Shared state</h3><p>æœ‰ä¸€ä¸ªåº”ç”¨åŸºäºè¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œå°† List ä¸­æ›´æ–°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åå¯¹åº” Canvas ä¸­çš„èŠ‚ç‚¹ä¹Ÿæ›´æ–°</p><p>![](Recoil at React Europe 2020 00-04-55 .png)</p><h4 id=ç¬¬-1-ç§æ–¹å¼>ç¬¬ 1 ç§æ–¹å¼</h4><p>æŠŠ state ä¼ åˆ°å…¬å…±çš„çˆ¶èŠ‚ç‚¹è½¬å‘ç»™ canvas å­èŠ‚ç‚¹ï¼Œè¿™æ ·æ˜¾ç„¶ä¼šå…¨é‡ re-render</p><h4 id=ç¬¬-2-ç§æ–¹å¼>ç¬¬ 2 ç§æ–¹å¼</h4><p>ç»™çˆ¶èŠ‚ç‚¹åŠ  Provider åœ¨å­èŠ‚ç‚¹åŠ  Consumerï¼Œä¸è¿‡æ¯å¤šåŠ ä¸€ä¸ª item å°±è¦å¤šä¸€å±‚ Provider</p><p>![](Recoil at React Europe 2020 00-06-43 .png)</p><h4 id=ç¬¬-3-ç§æ–¹å¼>ç¬¬ 3 ç§æ–¹å¼</h4><p>åœ¨ react tree ä¸Šåˆ›å»ºå¦ä¸€ä¸ªæ­£äº¤çš„ treeï¼ŒæŠŠæ¯ç‰‡ item çš„ state æŠ½å‡ºæ¥ã€‚æ¯ä¸ª component éƒ½æœ‰å¯¹åº”å•ç‹¬çš„ä¸€ç‰‡ stateï¼Œå½“æ•°æ®æ›´æ–°çš„æ—¶å€™å¯¹åº”çš„ç»„ä»¶ä¹Ÿä¼šæ›´æ–°ã€‚Recoil æŠŠ è¿™æ¯ä¸€ç‰‡çš„æ•°æ®ç§°ä¸º Atomï¼ŒAtom æ˜¯å¯è®¢é˜…å¯å˜çš„ state å•å…ƒã€‚</p><p>![](Recoil at React Europe 2020 00-07-24 .png)</p><p>é…åˆ <code>useRecoilState</code> å¯ä»¥ä½¿ç”¨è¿™äº› Atomï¼Œå®è·µä¸Šå¯¹å¤šä¸ª item çš„ Atom å¯ä»¥ç”¨ memorize è¿›è¡Œä¼˜åŒ–ï¼Œå…·ä½“å¯ä»¥åœ¨å®˜æ–¹æ–‡æ¡£æŸ¥çœ‹ï¼Œè¿™é‡Œä¸èµ˜è¿°ã€‚</p><h3 id=derived-data>Derived Data</h3><p>æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯éœ€è¦æ ¹æ®å¤šä¸ª Item Box è®¡ç®— Bounding Box</p><p><img src=/posts/recoil-a-state-management-system-for-react/derived_data.png width=581 height=297 srcset="/posts/recoil-a-state-management-system-for-react/derived_data_hu49373ba536efe9ad5ffd92d070160abe_26902_480x0_resize_box_3.png 480w, /posts/recoil-a-state-management-system-for-react/derived_data_hu49373ba536efe9ad5ffd92d070160abe_26902_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=195 data-flex-basis=469px></p><p>å¦‚æœä½ æ˜¯ Vue çš„çˆ±å¥½è€…ï¼Œä½ å¯èƒ½æƒ³åˆ°äº†è®¡ç®—å±æ€§ã€‚Derived Data ç¡®å®æœ‰ computed props çš„å‘³é“ï¼Œå…·ä½“æ€è·¯æ˜¯é€‰å–å¤šä¸ª Atom è¿›è¡Œè®¡ç®—ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„ stateã€‚å› æ­¤åœ¨ Recoil ä¸­è®¾è®¡äº† <code>select</code> è¿™æ ·çš„ API æ¥é€‰å–å¤šä¸ª Atom è¿›è¡Œè®¡ç®—ã€‚</p><p>![](Recoil at React Europe 2020 00-14-53 .png)</p><p><code>select</code> çš„è®¾è®¡å’Œ Proxy æŒºåƒçš„ï¼Œå±æ€§ä¸Šæœ‰ <code>get</code> è¿›è¡Œè¯»å–ï¼Œæœ‰ <code>set</code> è¿›è¡Œè®¾ç½®ï¼Œå‡½æ•°å†…éƒ¨åˆæœ‰ <code>get</code>ï¼Œ <code>set</code> æ“ä½œ state</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>atom</span><span class=p>,</span> <span class=nx>selector</span><span class=p>,</span> <span class=nx>useRecoilState</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;recoil&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>tempFahrenheit</span> <span class=o>=</span> <span class=nx>atom</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>key</span><span class=o>:</span> <span class=s1>&#39;tempFahrenheit&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=k>default</span><span class=o>:</span> <span class=mi>32</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>tempCelcius</span> <span class=o>=</span> <span class=nx>selector</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>key</span><span class=o>:</span> <span class=s1>&#39;tempCelcius&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>get</span><span class=o>:</span> <span class=p>({</span> <span class=nx>get</span> <span class=p>})</span> <span class=p>=&gt;</span> <span class=p>((</span><span class=nx>get</span><span class=p>(</span><span class=nx>tempFahrenheit</span><span class=p>)</span> <span class=o>-</span> <span class=mi>32</span><span class=p>)</span> <span class=o>*</span> <span class=mi>5</span><span class=p>)</span> <span class=o>/</span> <span class=mi>9</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>set</span><span class=o>:</span> <span class=p>({</span> <span class=nx>set</span> <span class=p>},</span> <span class=nx>newValue</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>set</span><span class=p>(</span><span class=nx>tempFahrenheit</span><span class=p>,</span> <span class=p>(</span><span class=nx>newValue</span> <span class=o>*</span> <span class=mi>9</span><span class=p>)</span> <span class=o>/</span> <span class=mi>5</span> <span class=o>+</span> <span class=mi>32</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=app-wide-observation>App-wide observation</h3><p>è¿™ä¸ªåœºæ™¯ä¸‹éœ€è¦æŠŠ url åˆ†äº«ç»™å…¶ä»–äººï¼Œåˆ«äººæ‰“å¼€ç›¸åŒçš„é“¾æ¥ä¹Ÿèƒ½çœ‹åˆ°ä¸€æ ·çš„é¡µé¢ã€‚</p><p>é‚£ä¹ˆå°±éœ€è¦ observe Atom çš„å˜æ›´ï¼ŒRecoil ä½¿ç”¨ <code>useTransactionObservation</code> è¿›è¡Œè®¢é˜…</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>useTransactionObservation</span><span class=p>(({</span><span class=nx>atomValues</span><span class=p>,</span><span class=nx>modifiedAtoms</span><span class=p>,...}</span> <span class=p>=&gt;</span> <span class=p>{}))</span>
</span></span></code></pre></td></tr></table></div></div><p>å¦ä¸€æ–¹é¢ï¼Œæ‰“å¼€é“¾æ¥çš„æ—¶å€™ä¹Ÿéœ€è¦å¯¹è¾“å…¥çš„æ•°æ®è¿›è¡Œæ ¡éªŒ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>counter</span> <span class=o>=</span> <span class=nx>atom</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>key</span><span class=o>:</span> <span class=s1>&#39;myCounter&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=k>default</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>validator</span><span class=o>:</span> <span class=p>(</span><span class=nx>untrustedInput</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nx>metadata</span><span class=o>:</span> <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>##Recoil åç»­</p><p>ç›®å‰ Recoil è¿˜å±äºå®éªŒé˜¶æ®µï¼Œä¸è¿‡èƒ½ç¡®å®šçš„æ˜¯ Recoil ä¼šå…¼å®¹ React Concurrent Mode</p><h1 id=actor-model--recoil-è”ç³»>Actor Model & Recoil è”ç³»</h1><p>é€šè¿‡å‰é¢æåŠ Recoil çš„è®¾è®¡ï¼Œå¯ä»¥å‘ç°ä¸¤è€…çš„ç†å¿µæ˜¯ç›¸ä¼¼çš„ã€‚</p><p>åœ¨å®ç°çš„ç»†èŠ‚ä¸­ Recoil ç»´æŠ¤äº†æ–°çš„é˜Ÿåˆ—ï¼Œå¹¶é€šè¿‡è®¢é˜…ã€æ´¾å‘çš„æœºåˆ¶å®Œæˆæ¶ˆæ¯çš„ä¼ é€’åŠç»„ä»¶çš„æ›´æ–°ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// Fire or enqueue callbacks to rerender components that are subscribed to
</span></span></span><span class=line><span class=cl><span class=c1>// nodes affected by the updatedNodes
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>fireNodeSubscriptions</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=nx>store</span><span class=o>:</span> <span class=nx>Store</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>updatedNodes</span><span class=o>:</span> <span class=nx>$ReadOnlySet</span><span class=o>&lt;</span><span class=nx>NodeKey</span><span class=o>&gt;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>when</span><span class=o>:</span> <span class=s1>&#39;enqueue&#39;</span> <span class=o>|</span> <span class=s1>&#39;now&#39;</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>  This is called in two conditions: When an atom is set (with &#39;enqueue&#39;) and
</span></span></span><span class=line><span class=cl><span class=cm>  when an async selector resolves (with &#39;now&#39;). When an atom is set, we want
</span></span></span><span class=line><span class=cl><span class=cm>  to use the latest dependencies that may have become dependencies due to
</span></span></span><span class=line><span class=cl><span class=cm>  earlier changes in a batch. But if an async selector happens to resolve during
</span></span></span><span class=line><span class=cl><span class=cm>  a batch, it should use the currently rendered output, and then the end of the
</span></span></span><span class=line><span class=cl><span class=cm>  batch will trigger any further subscriptions due to new deps in the new state.
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>state</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>    <span class=nx>when</span> <span class=o>===</span> <span class=s1>&#39;enqueue&#39;</span>
</span></span><span class=line><span class=cl>      <span class=o>?</span> <span class=nx>store</span><span class=p>.</span><span class=nx>getState</span><span class=p>().</span><span class=nx>nextTree</span> <span class=o>??</span> <span class=nx>store</span><span class=p>.</span><span class=nx>getState</span><span class=p>().</span><span class=nx>currentTree</span>
</span></span><span class=line><span class=cl>      <span class=o>:</span> <span class=nx>store</span><span class=p>.</span><span class=nx>getState</span><span class=p>().</span><span class=nx>currentTree</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>dependentNodes</span> <span class=o>=</span> <span class=nx>getDownstreamNodes</span><span class=p>(</span><span class=nx>state</span><span class=p>,</span> <span class=nx>updatedNodes</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>key</span> <span class=k>of</span> <span class=nx>dependentNodes</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>;(</span><span class=nx>state</span><span class=p>.</span><span class=nx>nodeToComponentSubscriptions</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>key</span><span class=p>)</span> <span class=o>??</span> <span class=p>[]).</span><span class=nx>forEach</span><span class=p>(</span>
</span></span><span class=line><span class=cl>      <span class=p>([</span><span class=nx>debugName</span><span class=p>,</span> <span class=nx>cb</span><span class=p>])</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>when</span> <span class=o>===</span> <span class=s1>&#39;enqueue&#39;</span>
</span></span><span class=line><span class=cl>          <span class=o>?</span> <span class=nx>store</span><span class=p>.</span><span class=nx>getState</span><span class=p>().</span><span class=nx>queuedComponentCallbacks</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>cb</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=o>:</span> <span class=nx>cb</span><span class=p>(</span><span class=nx>state</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Wake all suspended components so the right one(s) can try to re-render.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// We need to wake up components not just when some asynchronous selector
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// resolved (when === &#39;now&#39;), but also when changing synchronous values because
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// they may cause a selector to change from asynchronous to synchronous, in
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// which case there would be no follow-up asynchronous resolution to wake us up.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// TODO OPTIMIZATION Only wake up related downstream components
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>Tracing</span><span class=p>.</span><span class=nx>trace</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;value became available, waking components&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nb>Array</span><span class=p>.</span><span class=nx>from</span><span class=p>(</span><span class=nx>updatedNodes</span><span class=p>).</span><span class=nx>join</span><span class=p>(</span><span class=s1>&#39;, &#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kr>const</span> <span class=nx>resolvers</span> <span class=o>=</span> <span class=nx>store</span><span class=p>.</span><span class=nx>getState</span><span class=p>().</span><span class=nx>suspendedComponentResolvers</span>
</span></span><span class=line><span class=cl>      <span class=nx>resolvers</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>r</span> <span class=p>=&gt;</span> <span class=nx>r</span><span class=p>())</span>
</span></span><span class=line><span class=cl>      <span class=nx>resolvers</span><span class=p>.</span><span class=nx>clear</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>å…¶å® Recoil ä¸æ˜¯ Actor Model åœ¨å‰ç«¯çš„é¦–æ¬¡å®è·µï¼Œ2 å¹´å‰ PolymerLabs å°±æœ‰ <a class=link href=https://github.com/PolymerLabs/actor-helpers target=_blank rel=noopener>actor-helpers</a> ä»¥åŠ <a class=link href=https://github.com/PolymerLabs/actor-boilerplate target=_blank rel=noopener>actor-boilerplate</a> ç›¸å…³çš„å®è·µã€‚ä¸è¿‡åœ¨ React å¼ºå¤§çš„ç”Ÿæ€ä»¥åŠ React Hooks çš„åŠ æŒä¹‹ä¸‹ï¼Œç”¨ Sync çš„æ–¹å¼åšåˆ°å¼‚æ­¥ state ç®¡ç†å’Œå…±äº«ï¼ŒåŒæ—¶ä¿æŒäº¤äº’æµç¨‹ã€é«˜æ€§èƒ½çš„ Recoil ç®—æ˜¯è¡¥å……äº†ä¸€ä¸ªä¸é”™çš„æ–¹æ¡ˆã€‚</p><h1 id=è¡¥å……>è¡¥å……</h1><p>Recoil åˆšåˆšé‡Šå‡ºå®éªŒç‰ˆæœ¬ï¼Œæˆ‘æƒ³æ­£å¥½å¯ä»¥åœ¨ä¸æ–­æ›´æ”¹çš„è¿‡ç¨‹ä¸­äº†è§£å‰ç«¯ Actor Model çš„å®ç°æ–¹å¼æ­¥éª¤ã€‚</p><p>å¦å¤–ï¼Œå…¶å®ä¸å°‘äººæ‰¹è¯„å‰ç«¯çš„å‘å±•å°±æ˜¯åˆ°å¤„å€Ÿé‰´ï¼Œæ²¡æœ‰æ–°çš„äº‹ç‰©ï¼Œåƒæ˜¯ WPF å°±æœ‰å¾ˆå¤šå‰ç«¯å¯ä»¥å€Ÿé‰´çš„åœ°æ–¹ï¼ˆç¡®å®ä¹Ÿå¦‚æ­¤ï¼‰ã€‚</p><p>ä¸è¿‡åœ¨æˆ‘çœ‹æ¥ï¼Œæ”¾åˆ°ä¸€ä¸ªæ¯”è¾ƒé•¿çš„æ—¶æœŸé‡Œï¼Œå‰ç«¯æ…¢æ…¢å¸æ”¶å„ç±»åç«¯ã€å®¢æˆ·ç«¯çš„è®¾è®¡æ€æƒ³æ‰äº§ç”Ÿâ€œæ–°â€äº‹ç‰©æ˜¯å¾ˆæ­£å¸¸çš„å‘å±•è¿›ç¨‹ã€‚åŒ…æ‹¬ç»å¸¸è¢«æåˆ°çš„ Vue å’Œ React å­°ä¼˜å­°åŠ£ä¹‹äº‰ï¼ŒNode.js ä¸å ªå¤§ç”¨ç­‰ç­‰è¯é¢˜ï¼Œå…¶å®éƒ½æ˜¯å†å²å‘å±•åŠå…¶æŠ€æœ¯å®šä½æ‰€è‡´ã€‚å¯èƒ½å¯¹å…¶ä»–é¢†åŸŸçš„çœ‹æ¥æ˜¯ä¸æ–°é²œï¼Œä½†å¯¹å‰ç«¯è€Œè¨€æ˜¯è¯­è¨€å‘å±•ï¼ˆæ®‹ç–¾è€Œç¼åˆçš„ JavaScriptï¼‰ã€ç”Ÿæ€ç¹è£æ‰æœ‰å¯èƒ½ç¹è¡å‡ºè¿™äº›å¯¹å‰ç«¯è€Œè¨€çš„æ–°äº‹ç‰©ã€‚</p></section><footer class=article-footer><section class=article-tags><a href=/tags/recoil/>recoil</a>
<a href=/tags/recoiljs/>recoiljs</a>
<a href=/tags/react/>React</a>
<a href=/tags/reactjs/>reactjs</a>
<a href=/tags/actor/>actor</a>
<a href=/tags/state-management/>state management</a>
<a href=/tags/facebook/>facebook</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>ç›¸å…³æ–‡ç« </h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/posts/compare-vue-composition-api-with-react-hooks/><div class=article-image><img src=/posts/compare-vue-composition-api-with-react-hooks/vue.b7df35f5df14059bbcce379a7d2bc494_huf4345b9185ae7551f6163dba18ba6799_23359_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post å¯¹æ¯” Vue Composition API å’Œ React Hooks" data-key=compare-vue-composition-api-with-react-hooks data-hash="md5-t9819d8UBZu8zjeafSvElA=="></div><div class=article-details><h2 class=article-title>å¯¹æ¯” Vue Composition API å’Œ React Hooks</h2></div></a></article><article class=has-image><a href=/posts/a-guide-to-building-a-personal-website-with-gatsby/><div class=article-image><img src=/posts/a-guide-to-building-a-personal-website-with-gatsby/gatsby.2e27d10a334df94c6a21b765dd38005c_hu183bc92518a71c1132baa34e3b3f39ad_52039_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post ä½¿ç”¨ Gatsby æ­å»ºä¸ªäººç½‘ç«™æŒ‡å—" data-key=a-guide-to-building-a-personal-website-with-gatsby data-hash="md5-LifRCjNN+UxqIbdl3TgAXA=="></div><div class=article-details><h2 class=article-title>ä½¿ç”¨ Gatsby æ­å»ºä¸ªäººç½‘ç«™æŒ‡å—</h2></div></a></article><article class=has-image><a href=/posts/try-writing-fe-with-rust-yew/><div class=article-image><img src=/posts/try-writing-fe-with-rust-yew/yew.6bbca50ff9d2808584b41de3bbd77285_hu6ff4d2673b0a0137736822f776a015a8_53647_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post å°è¯•ç”¨ Rust + Yew å†™é«˜æ€§èƒ½å‰ç«¯é¡µé¢" data-key=try-writing-fe-with-rust-yew data-hash="md5-a7ylD/nSgIWEtB3ju9dyhQ=="></div><div class=article-details><h2 class=article-title>å°è¯•ç”¨ Rust + Yew å†™é«˜æ€§èƒ½å‰ç«¯é¡µé¢</h2></div></a></article><article class=has-image><a href=/posts/try-vscode-remote/><div class=article-image><img src=/posts/try-vscode-remote/vscode.fc06479f6b2e4dfed142ca33f18c7d36_hu652b841b8d684a9b76b7a45ab0a11cce_210863_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post å°è¯•ä¸€ä¸‹ VSCode Remote å¼€å‘ Node åº”ç”¨" data-key=try-vscode-remote data-hash="md5-/AZHn2suTf7RQsoz8Yx9Ng=="></div><div class=article-details><h2 class=article-title>å°è¯•ä¸€ä¸‹ VSCode Remote å¼€å‘ Node åº”ç”¨</h2></div></a></article><article class=has-image><a href=/posts/try-deno2/><div class=article-image><img src=/posts/try-deno2/deno.b2e4ab8e8f61640275af942503cda21b_huea871f6cba11252469113c9214ca6a24_76129_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post è¯•ç© deno2" data-key=try-deno2 data-hash="md5-suSrjo9hZAJ1r5QlA82iGw=="></div><div class=article-details><h2 class=article-title>è¯•ç© deno2</h2></div></a></article></div></div></aside><script src=//unpkg.com/@waline/client@v2/dist/waline.js></script>
<link href=//unpkg.com/@waline/client@v2/dist/waline.css rel=stylesheet><div id=waline class=waline-container></div><style>.waline-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding);--waline-font-size:var(--article-font-size)}.waline-container .wl-count{color:var(--card-text-color-main)}</style><script>Waline.init({dark:'html[data-scheme="dark"]',el:"#waline",emoji:["https://unpkg.com/@waline/emojis@1.1.0/bmoji"],locale:{admin:"Admin",placeholder:null},requiredMeta:["name","email","url"],serverURL:"https://server.wilhelm.life:4343"})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2023 ä»•éºŸçš„åšå®¢</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.13.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#ä»€ä¹ˆæ˜¯-actor-model>ä»€ä¹ˆæ˜¯ Actor Model</a></li><li><a href=#è°ä½¿ç”¨-actor-model>è°ä½¿ç”¨ Actor Model</a></li></ol><ol><li><a href=#recoil-äº§ç”ŸèƒŒæ™¯>Recoil äº§ç”ŸèƒŒæ™¯</a><ol><li><a href=#shared-state>Shared state</a><ol><li><a href=#ç¬¬-1-ç§æ–¹å¼>ç¬¬ 1 ç§æ–¹å¼</a></li><li><a href=#ç¬¬-2-ç§æ–¹å¼>ç¬¬ 2 ç§æ–¹å¼</a></li><li><a href=#ç¬¬-3-ç§æ–¹å¼>ç¬¬ 3 ç§æ–¹å¼</a></li></ol></li><li><a href=#derived-data>Derived Data</a></li><li><a href=#app-wide-observation>App-wide observation</a></li></ol></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>